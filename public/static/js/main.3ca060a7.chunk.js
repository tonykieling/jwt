(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{55:function(e,a,t){e.exports=t(79)},60:function(e,a,t){},61:function(e,a,t){},79:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(23),l=t.n(o),s=(t(60),t(10)),c=t(11),m=t(14),i=t(12),u=t(15),h=t(21),d=t(19),p=(t(61),t(13)),g=t(84),f=t(86),E=t(81),b=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(o)))).logout=function(){window.confirm("Are you sure you wanna leave?")&&t.props.noUser()},t.loggedHeader=function(){return r.a.createElement(g.a,{bg:"primary"},r.a.createElement(g.a.Brand,{href:"/"},"KcodingT"),r.a.createElement(f.a,null,r.a.createElement(h.b,{to:"/",className:"nav-link"},t.props.storeEmail," is logged"),r.a.createElement(E.a,{onClick:t.logout,className:"logoutBtn"},"Logout")))},t.notLoggedHeader=function(){return r.a.createElement(g.a,{bg:"dark",variant:"dark"},r.a.createElement(g.a.Brand,{href:"/"},"KCodingT"),r.a.createElement(f.a,null,r.a.createElement(h.b,{to:"/login",className:"nav-link"},"Login"),r.a.createElement(h.b,{to:"/register",className:"nav-link"},"Register")))},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return this.props.storeEmail?this.loggedHeader():this.notLoggedHeader()}}]),a}(n.Component),v=Object(p.b)(function(e){return{storeEmail:e.email,storeUserAdmin:e.userAdmin,storePictureName:e.pictureName}},function(e){return{noUser:function(){return e({type:"LOGOUT"})}}})(b),w=t(87),y=t(85),O=t(82),I=t(53),j=function(e){function a(){return Object(s.a)(this,a),Object(m.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"htitle"},"User's Home Page"),r.a.createElement("h3",null,"Welcome ",this.props.storeEmail," "),r.a.createElement("br",null),r.a.createElement(w.a,null,r.a.createElement(w.a.Header,{className:"cardTitle"},"User Information"),r.a.createElement(y.a,null,r.a.createElement(y.a.Group,{as:O.a,controlId:"formName"},r.a.createElement(y.a.Label,{column:!0,sm:1,className:"card-label"},"Id"),r.a.createElement(I.a,{sm:10},r.a.createElement(y.a.Label,{column:!0,sm:10},this.props.storeId)))),r.a.createElement(y.a,null,r.a.createElement(y.a.Group,{as:O.a,controlId:"formName"},r.a.createElement(y.a.Label,{column:!0,sm:1,className:"card-label"},"Name:"),r.a.createElement(I.a,{sm:10},r.a.createElement(y.a.Label,{column:!0,sm:10},this.props.storeName)))),r.a.createElement(y.a,null,r.a.createElement(y.a.Group,{as:O.a,controlId:"formName"},r.a.createElement(y.a.Label,{column:!0,sm:1,className:"card-label"},"Email:"),r.a.createElement(I.a,{sm:10},r.a.createElement(y.a.Label,{column:!0,sm:10},this.props.storeEmail)))),r.a.createElement(y.a,null,r.a.createElement(y.a.Group,{as:O.a,controlId:"formName"},r.a.createElement(y.a.Label,{column:!0,sm:1,className:"card-label"},"Phone:"),r.a.createElement(I.a,{sm:10},r.a.createElement(y.a.Label,{column:!0,sm:10},this.props.storePhone))))))}}]),a}(n.Component),C=Object(p.b)(function(e){return{storeId:e.id,storeEmail:e.email,storeName:e.name,storePhone:e.phone}},null)(j),P=function(e){function a(){return Object(s.a)(this,a),Object(m.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"moldura"},r.a.createElement("h1",null,"Landscape Page"),r.a.createElement(w.a,{className:"homePage twothirds"},r.a.createElement("div",{className:"ipsumText"},r.a.createElement("p",null,"Random text over here."),r.a.createElement("p",null,"Random text over here."),r.a.createElement("p",null,"Random text over here."),r.a.createElement("p",null,"Random text over here."))))}}]),a}(n.Component),S=t(24),L=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).state={email:"",password:"",errorMsg:""},t.handleChange=function(e){t.setState(Object(S.a)({},e.target.name,e.target.value)),"Enter"===e.key&&""!==t.state.email&&"email"===e.target.name&&t.textInput2.focus()},t.handleSubmit=function(e){if(e.preventDefault(),""!==t.state.email&&""!==t.state.password){var a=window.location.origin+"/login";console.log("login URL",a),fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.state.email,password:t.state.password})}).then(function(e){return e.json()}).then(function(e){if("name"in e){var a=e;t.props.dispatchLogin({user:a})}else"message"in e&&(t.setState({errorMsg:e.message,email:"",password:""}),t.textInput1.focus(),t.clearMsg())}).catch(function(e){console.error(e),t.setState({errorMsg:e.message}),t.clearMsg()})}},t.clearMsg=function(){setTimeout(function(){t.setState({errorMsg:""})},3500)},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Login Page"),r.a.createElement(w.a,null,r.a.createElement(y.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a.Group,{controlId:"formBasicEmail"},r.a.createElement(y.a.Label,null,"User's Email"),r.a.createElement(y.a.Control,{autoFocus:!0,type:"email",placeholder:"Type the user's email",name:"email",onChange:this.handleChange,onKeyPress:this.handleChange,value:this.state.email,ref:function(a){return e.textInput1=a}}),r.a.createElement(y.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(y.a.Group,{controlId:"formBasicPassword"},r.a.createElement(y.a.Label,null,"Password"),r.a.createElement(y.a.Control,{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange,onKeyPress:this.handleChange,ref:function(a){return e.textInput2=a}}),r.a.createElement("p",{id:"errorMsg"},this.state.errorMsg)),r.a.createElement(E.a,{variant:"primary",type:"submit"},"Submit"))))}}]),a}(n.Component),N=Object(p.b)(null,function(e){return{dispatchLogin:function(a){return e({type:"LOGIN",data:a})}}})(L),x=t(83),k=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",email:"",phone:"",password:"",confirmPassword:"",redirectFlag:!1,errorMsg:""},t.handleChange=function(e){if("Enter"===e.key)switch(e.target.name){case"name":""!==t.state.name&&t.textInput2.focus();break;case"email":""!==t.state.email&&t.textInput3.focus();break;case"phone":t.textInput4.focus();break;case"password":""!==t.state.password&&t.textInput5.focus()}t.setState(Object(S.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){if(e.preventDefault(),t.state.phone.length>8)alert("Maximum length of Phone is\n                10 numbers!"),t.textInput3.focus();else if(""!==t.state.email&&""!==t.state.name&&""!==t.state.password&&""!==t.state.confirmPassword)if(t.state.password!==t.state.confirmPassword)alert("Password and \nConfirm Password fields\n\nMUST be the same."),t.setState({password:"",confirmPassword:""}),t.textInput4.focus();else{var a=window.location.origin+"/user/new";console.log("register URL:",a),fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.state.name,email:t.state.email,password:t.state.password,phone:t.state.phone})}).then(function(e){return e.json()}).then(function(e){if("name"in e){var a={id:e.id,name:e.name,email:e.email,phone:e.phone};t.props.dispatchLogin({user:a}),t.setState({redirectFlag:!0})}else"message"in e&&(t.setState({errorMsg:e.message}),t.clearMessage())}).catch(function(e){console.error(e),t.setState({errorMsg:e.message})})}},t.clearMessage=function(){setTimeout(function(){t.setState({errorMsg:"",name:"",email:"",phone:"",password:"",confirmPassword:""}),t.textInput1.focus()},3500)},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this;return this.state.redirectFlag?r.a.createElement(d.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Register Page"),r.a.createElement(w.a,null,r.a.createElement(y.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a.Group,{controlId:"formName"},r.a.createElement(y.a.Label,null,"Name"),r.a.createElement(y.a.Control,{autoFocus:!0,type:"text",placeholder:"Type the user's name",name:"name",onChange:this.handleChange,value:this.state.name,onKeyPress:this.handleChange,ref:function(a){return e.textInput1=a}})),r.a.createElement(y.a.Group,{controlId:"formBasicEmail"},r.a.createElement(y.a.Label,null,"Email address"),r.a.createElement(y.a.Control,{type:"email",placeholder:"Type the user's email",name:"email",onChange:this.handleChange,value:this.state.email,onKeyPress:this.handleChange,ref:function(a){return e.textInput2=a}})),r.a.createElement(y.a.Group,{controlId:"formBasicEmail"},r.a.createElement(y.a.Label,null,"Phone number"),r.a.createElement(y.a.Control,{type:"text",placeholder:"Type the user's phone",name:"phone",onChange:this.handleChange,value:this.state.phone,onKeyPress:this.handleChange,ref:function(a){return e.textInput3=a}})),r.a.createElement(y.a.Group,{controlId:"formBasicPassword"},r.a.createElement(y.a.Label,null,"Password"),r.a.createElement(y.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:this.handleChange,value:this.state.password,onKeyPress:this.handleChange,ref:function(a){return e.textInput4=a}})),r.a.createElement(y.a.Group,{controlId:"formConfirmPassword"},r.a.createElement(y.a.Label,null,"Confirm Password"),r.a.createElement(y.a.Control,{type:"password",placeholder:"Confirm Password",name:"confirmPassword",onChange:this.handleChange,value:this.state.confirmPassword,onKeyPress:this.handleChange,ref:function(a){return e.textInput5=a}})),r.a.createElement(E.a,{variant:"primary",type:"submit"},"Submit"),r.a.createElement(x.a,null,this.state.errorMsg))))}}]),a}(n.Component),M=Object(p.b)(null,function(e){return{dispatchLogin:function(a){return e({type:"LOGIN",data:a})}}})(k);function T(){return r.a.createElement("div",{className:"moldura"},r.a.createElement("h1",null,"Error 404 - Page doesn't exist!"))}var G=function(e){function a(){return Object(s.a)(this,a),Object(m.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",render:function(){return e.props.storeEmail?r.a.createElement(C,null):r.a.createElement(P,null)}}),r.a.createElement(d.b,{exact:!0,path:"/lands",render:function(){return e.props.storeEmail?r.a.createElement(C,null):r.a.createElement(P,null)}}),r.a.createElement(d.b,{path:"/login",render:function(){return e.props.storeEmail?r.a.createElement(d.a,{to:"/"}):r.a.createElement(N,null)}}),r.a.createElement(d.b,{path:"/register",component:M}),r.a.createElement(d.b,{component:T}))))}}]),a}(n.Component),U=Object(p.b)(function(e){return{storeEmail:e.email}},null)(G);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=t(29),K=t(41),R=function(){try{var e={id:localStorage.getItem("id"),name:localStorage.getItem("name"),email:localStorage.getItem("email"),phone:localStorage.getItem("phone")};return e||void 0}catch(a){return}},A={},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,a=arguments.length>1?arguments[1]:void 0,t=Object(K.a)({},e);return"LOGIN"===a.type?(console.log("reducer",a.data),function(e){try{localStorage.setItem("id",e.id),localStorage.setItem("email",e.email),localStorage.setItem("name",e.name),localStorage.setItem("phone",e.phone)}catch(a){return a.message}}(t=Object(K.a)({},e,{id:a.data.user.id,email:a.data.user.email,name:a.data.user.name,phone:a.data.user.phone}))):"LOGOUT"===a.type&&(t={id:void 0,email:void 0,name:void 0,phone:void 0},localStorage.removeItem("id"),localStorage.removeItem("name"),localStorage.removeItem("email"),localStorage.removeItem("phone")),t},F={id:R().id,email:R().email,name:R().name,phone:R().phone},J=Object(B.b)(H,F);J.subscribe(function(){console.log("store.subscribe- ",J.getState())});var W=J;l.a.render(r.a.createElement(p.a,{store:W},r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[55,1,2]]]);
//# sourceMappingURL=main.3ca060a7.chunk.js.map